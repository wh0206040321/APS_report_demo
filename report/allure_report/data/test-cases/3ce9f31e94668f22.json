{"uid":"3ce9f31e94668f22","name":"test_plan_openbutton","fullName":"Tests.test_items.test_plan.TestPlanPage#test_plan_openbutton","historyId":"d836b12f1a6d399bee5ce607736276d3","time":{"start":1764869089013,"stop":1764869099928,"duration":10915},"status":"failed","statusMessage":"AssertionError: assert 'TEST2' == 'TEST2\\n删除数据\\...整\\n属性编辑\\n计划评估'\n  \n  \u001B[0m\u001B[91m- TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ?      -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 删除数据\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单收集\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单筛选\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (11 lines hidden), use '-vv' to show","statusTrace":"self = <test_items.test_plan.TestPlanPage object at 0x000001676A49D090>, login_to_plan = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f2549666eb90984fe0e5b83b411107cc\")>\n\n    @allure.story(\"方案管理中计划方案组合框显示开启，显示该方案\")\n    # @pytest.mark.run(order=1)\n    def test_plan_openbutton(self, login_to_plan):\n        driver = login_to_plan  # WebDriver 实例\n        plan = PlanPage(driver)  # 用 driver 初始化 PlanPage\n        wait = WebDriverWait(driver, 20)\n    \n        sched = SchedPage(driver)  # 用 driver 初始化 SchedPage\n        list_ = [\"计划方案管理\"]\n        for v in list_:\n            sleep(0.5)\n            plan.click_button(f'(//span[text()=\"{v}\"])[1]')\n        sleep(1)\n        # 选择第一个方案\n        sched_text = sched.get_find_element_xpath(\n            '//div[@class=\"ivu-tree\"]//li/ul[1]'\n        ).text\n        sched.click_button('//div[@class=\"ivu-tree\"]//li/ul[1]')\n        sched.click_attribute_button()\n        # 点击开关 如果为关则打开\n        ele = sched.get_find_element_xpath(\n            '//div[text()=\"计划方案组合框显示\"]/following-sibling::div//span[1]'\n        )\n        if ele.get_attribute(\"class\") == \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"计划方案组合框显示\"]/following-sibling::div//span[1]'\n            )\n    \n        sched.click_ok_button()\n        sched.click_save_button()\n        # 等待loading遮罩消失\n    \n        wait.until(\n            EC.invisibility_of_element_located(\n                (By.CLASS_NAME, \"vxe-loading\")\n            )\n        )\n    \n        list_ = [\"计算工作台\", \"计划计算\"]\n        for v in list_:\n            plan.click_button(f'(//span[text()=\"{v}\"])[1]')\n    \n        # 等待 el-loading-spinner 消失\n        WebDriverWait(driver, 10).until(\n            EC.invisibility_of_element_located((By.CLASS_NAME, \"el-loading-spinner\"))\n        )\n        target = WebDriverWait(driver, 10).until(\n            EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vue-treeselect__control-arrow-container\"]'))\n        )\n        sleep(3)\n        target.click()\n        ele_input = plan.get_find_element_xpath(\n            '//div[@class=\"vue-treeselect__list\"]/div[1]//label'\n        ).text\n>       assert ele_input == sched_text\nE       AssertionError: assert 'TEST2' == 'TEST2\\n删除数据\\...整\\n属性编辑\\n计划评估'\nE         \nE         \u001B[0m\u001B[91m- TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         ?      -\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 删除数据\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 订单收集\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 订单筛选\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (11 lines hidden), use '-vv' to show\n\nTests\\test_items\\test_plan.py:236: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_plan","time":{"start":1764869071802,"stop":1764869089012,"duration":17210},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'TEST2' == 'TEST2\\n删除数据\\...整\\n属性编辑\\n计划评估'\n  \n  \u001B[0m\u001B[91m- TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ?      -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 删除数据\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单收集\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单筛选\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (11 lines hidden), use '-vv' to show","statusTrace":"self = <test_items.test_plan.TestPlanPage object at 0x000001676A49D090>, login_to_plan = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f2549666eb90984fe0e5b83b411107cc\")>\n\n    @allure.story(\"方案管理中计划方案组合框显示开启，显示该方案\")\n    # @pytest.mark.run(order=1)\n    def test_plan_openbutton(self, login_to_plan):\n        driver = login_to_plan  # WebDriver 实例\n        plan = PlanPage(driver)  # 用 driver 初始化 PlanPage\n        wait = WebDriverWait(driver, 20)\n    \n        sched = SchedPage(driver)  # 用 driver 初始化 SchedPage\n        list_ = [\"计划方案管理\"]\n        for v in list_:\n            sleep(0.5)\n            plan.click_button(f'(//span[text()=\"{v}\"])[1]')\n        sleep(1)\n        # 选择第一个方案\n        sched_text = sched.get_find_element_xpath(\n            '//div[@class=\"ivu-tree\"]//li/ul[1]'\n        ).text\n        sched.click_button('//div[@class=\"ivu-tree\"]//li/ul[1]')\n        sched.click_attribute_button()\n        # 点击开关 如果为关则打开\n        ele = sched.get_find_element_xpath(\n            '//div[text()=\"计划方案组合框显示\"]/following-sibling::div//span[1]'\n        )\n        if ele.get_attribute(\"class\") == \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"计划方案组合框显示\"]/following-sibling::div//span[1]'\n            )\n    \n        sched.click_ok_button()\n        sched.click_save_button()\n        # 等待loading遮罩消失\n    \n        wait.until(\n            EC.invisibility_of_element_located(\n                (By.CLASS_NAME, \"vxe-loading\")\n            )\n        )\n    \n        list_ = [\"计算工作台\", \"计划计算\"]\n        for v in list_:\n            plan.click_button(f'(//span[text()=\"{v}\"])[1]')\n    \n        # 等待 el-loading-spinner 消失\n        WebDriverWait(driver, 10).until(\n            EC.invisibility_of_element_located((By.CLASS_NAME, \"el-loading-spinner\"))\n        )\n        target = WebDriverWait(driver, 10).until(\n            EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vue-treeselect__control-arrow-container\"]'))\n        )\n        sleep(3)\n        target.click()\n        ele_input = plan.get_find_element_xpath(\n            '//div[@class=\"vue-treeselect__list\"]/div[1]//label'\n        ).text\n>       assert ele_input == sched_text\nE       AssertionError: assert 'TEST2' == 'TEST2\\n删除数据\\...整\\n属性编辑\\n计划评估'\nE         \nE         \u001B[0m\u001B[91m- TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         ?      -\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 删除数据\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 订单收集\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[91m- 订单筛选\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (11 lines hidden), use '-vv' to show\n\nTests\\test_items\\test_plan.py:236: AssertionError","steps":[],"attachments":[{"uid":"e84a20b39d8023ca","name":"test_plan_openbutton_failure","source":"e84a20b39d8023ca.png","type":"image/png","size":103787},{"uid":"807d7da79e37f4d1","name":"test_plan_openbutton_source","source":"807d7da79e37f4d1.html","type":"text/html","size":903427},{"uid":"b1baaa1d54748935","name":"log","source":"b1baaa1d54748935.txt","type":"text/plain","size":6493}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"login_to_plan::0","time":{"start":1764869100147,"stop":1764869102265,"duration":2118},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"方案管理中计划方案组合框显示开启，显示该方案"},{"name":"feature","value":"计划计算测试用例"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_plan"},{"name":"subSuite","value":"TestPlanPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"10972-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_plan"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7361465350803742","status":"failed","statusDetails":"AssertionError: assert 'TEST2' == 'TEST2\\n删除数据\\...整\\n属性编辑\\n计划评估'\n  \n  \u001B[0m\u001B[91m- TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ?      -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ TEST2\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 删除数据\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单收集\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- 订单筛选\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (11 lines hidden), use '-vv' to show","time":{"start":1764869058738,"stop":1764869069416,"duration":10678}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"3ce9f31e94668f22.json","parameterValues":[]}