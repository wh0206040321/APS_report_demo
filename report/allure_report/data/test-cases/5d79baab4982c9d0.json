{"uid":"5d79baab4982c9d0","name":"test_production_editresource","fullName":"Tests.test_items.test_production.TestProductionPage#test_production_editresource","historyId":"2ab523f3918f6fc777abe52cf6194598","time":{"start":1765469417226,"stop":1765469431336,"duration":14110},"status":"failed","statusMessage":"AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\n  \n  \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_items.test_production.TestProductionPage object at 0x0000013057AB4AC0>, login_to_production = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"72cc82fd947839fae73fb1d07cd91e18\")>\n\n    @allure.story(\"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变\")\n    # @pytest.mark.run(order=1)\n    def test_production_editresource(self, login_to_production):\n        driver = login_to_production  # WebDriver 实例\n        production = ProductionPage(driver)  # 用 driver 初始化 ProductionPage\n        name = \"1测试C订单\"\n        production.click_add_button()\n    \n        # 点击工作代码对话框\n        production.click_button('//label[text()=\"工作代码\"]/following-sibling::div//i')\n        production.wait_for_loading_to_disappear()\n        # 在订单代码输入框中输入“1测试C订单”\n        production.enter_texts(\n            '(//div[./p[text()=\"订单代码\"]])[2]/parent::div//input',\n            name,\n        )\n        sleep(1)\n        # 选择搜索到的第一个订单“1测试C订单”\n        production.click_button(\n            f'//table[.//tr[./td[3]//span[text()=\"{name}:1\"]]]//td[3]//span[text()=\"{name}:1\"]'\n        )\n        # 点击确认按钮\n        production.click_button('(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[last()]//span[text()=\"确定\"]')\n    \n        sleep(1)\n        # 定位输入框元素\n        production.click_button(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        )\n        input_sel = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        eles = driver.find_elements(\n            By.XPATH,\n            '//ul[@class=\"ivu-select-dropdown-list\"and .//span[contains(text(),\"/\")]]/li',\n        )\n        eles[0].click()\n        afert_input = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        i = 0\n        # 循环点击，直到输入框内容发生变化\n        while afert_input == input_sel:\n            i += 1\n            eles[i].click()\n            afert_input = production.get_find_element_xpath(\n                '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n            ).get_attribute(\"value\")\n    \n        production.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        # 弹出提示框 点击是\n        production.click_button(\n            '//div[.//p[text()=\"当前选择的报工资源与资源代码不一致，是否继续？\"] and @class=\"el-message-box__content\"]/following-sibling::div/button[2]'\n        )\n        production.wait_for_loading_to_disappear()\n        color = production.get_find_element_xpath(\n            '//tr[./td[9]//span[text()=\"1测试C订单\"]]/td[4]'\n        ).value_of_css_property(\"background-color\")\n        # 断言提示信息为“请先填写表单”\n>       assert color == \"rgba(255, 165, 0, 1)\"\nE       AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\nE         \nE         \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nTests\\test_items\\test_production.py:190: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_production","time":{"start":1765469397238,"stop":1765469417225,"duration":19987},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"hasContent":false,"stepsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\n  \n  \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_items.test_production.TestProductionPage object at 0x0000013057AB4AC0>, login_to_production = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"72cc82fd947839fae73fb1d07cd91e18\")>\n\n    @allure.story(\"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变\")\n    # @pytest.mark.run(order=1)\n    def test_production_editresource(self, login_to_production):\n        driver = login_to_production  # WebDriver 实例\n        production = ProductionPage(driver)  # 用 driver 初始化 ProductionPage\n        name = \"1测试C订单\"\n        production.click_add_button()\n    \n        # 点击工作代码对话框\n        production.click_button('//label[text()=\"工作代码\"]/following-sibling::div//i')\n        production.wait_for_loading_to_disappear()\n        # 在订单代码输入框中输入“1测试C订单”\n        production.enter_texts(\n            '(//div[./p[text()=\"订单代码\"]])[2]/parent::div//input',\n            name,\n        )\n        sleep(1)\n        # 选择搜索到的第一个订单“1测试C订单”\n        production.click_button(\n            f'//table[.//tr[./td[3]//span[text()=\"{name}:1\"]]]//td[3]//span[text()=\"{name}:1\"]'\n        )\n        # 点击确认按钮\n        production.click_button('(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[last()]//span[text()=\"确定\"]')\n    \n        sleep(1)\n        # 定位输入框元素\n        production.click_button(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        )\n        input_sel = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        eles = driver.find_elements(\n            By.XPATH,\n            '//ul[@class=\"ivu-select-dropdown-list\"and .//span[contains(text(),\"/\")]]/li',\n        )\n        eles[0].click()\n        afert_input = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        i = 0\n        # 循环点击，直到输入框内容发生变化\n        while afert_input == input_sel:\n            i += 1\n            eles[i].click()\n            afert_input = production.get_find_element_xpath(\n                '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n            ).get_attribute(\"value\")\n    \n        production.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        # 弹出提示框 点击是\n        production.click_button(\n            '//div[.//p[text()=\"当前选择的报工资源与资源代码不一致，是否继续？\"] and @class=\"el-message-box__content\"]/following-sibling::div/button[2]'\n        )\n        production.wait_for_loading_to_disappear()\n        color = production.get_find_element_xpath(\n            '//tr[./td[9]//span[text()=\"1测试C订单\"]]/td[4]'\n        ).value_of_css_property(\"background-color\")\n        # 断言提示信息为“请先填写表单”\n>       assert color == \"rgba(255, 165, 0, 1)\"\nE       AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\nE         \nE         \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nTests\\test_items\\test_production.py:190: AssertionError","steps":[],"attachments":[{"uid":"798085b06d9f4868","name":"test_production_editresource","source":"798085b06d9f4868.png","type":"image/png","size":73254},{"uid":"eec6e068e4dd69a6","name":"log","source":"eec6e068e4dd69a6.txt","type":"text/plain","size":2989}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"attachmentStep":false,"hasContent":true,"stepsCount":0},"afterStages":[{"name":"login_to_production::0","time":{"start":1765469431446,"stop":1765469433581,"duration":2135},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"hasContent":false,"stepsCount":0}],"labels":[{"name":"feature","value":"生产报工测试用例"},{"name":"story","value":"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_production"},{"name":"subSuite","value":"TestProductionPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"32524-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_production"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"5d79baab4982c9d0.json","parameterValues":[]}