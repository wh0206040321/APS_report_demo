{"uid":"86cdaaefcf24440f","name":"test_affairs_process_nextsuccess3","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_process_nextsuccess3","historyId":"5c4b4259f3c9d008ed302edb58b2f560","time":{"start":1768849712417,"stop":1768849738791,"duration":26374},"status":"failed","statusMessage":"AssertionError: assert (0 == 1)\n +  where 0 = len([])","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001E2FAAAE4D0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e11c2dcf92153259a8ae9a9360bc3a6a\")>\n\n    @allure.story(\"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_process_nextsuccess3(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试流程7\"\n        sel1 = \"添加事务模版1\"\n        sel2 = \"添加全部模版成功\"\n        affairs.click_process()\n        affairs.add_process(name=name, type=\"服务\", frequency=\"每天\")\n        affairs.click_next()\n        value1 = affairs.add_process_affairs(add=False, sel=sel1)\n        value2 = affairs.add_process_affairs(add=False, sel=sel2)\n        affairs.click_save()\n        message = affairs.get_find_message()\n        affairs.right_refresh()\n        affairs.click_process()\n        affairs.wait_for_el_loading_mask()\n        ele1 = affairs.finds_elements(By.XPATH, f'//table[@class=\"el-table__body\"]//tr[td[3][div[text()=\"{name}\"]]]')\n        # 一次性获取所有匹配的元素\n        elements = affairs.finds_elements(\n            By.XPATH,\n            f'//table[@class=\"el-table__body\"]//tr[td[3][div[text()=\"{name}\"]]]/td[2]//div[@class=\"flow-direction\"]/div'\n        )\n    \n        # 直接提取所有元素的文本到列表\n        list_ = [element.text for element in elements]\n        assert message == \"新增成功！\"\n>       assert len(ele1) == 1 and len(list_) == 2 and value1[1] == sel1 and value2[1] == sel2\nE       assert (0 == 1)\nE        +  where 0 = len([])\n\nTests\\test_system\\test_affairs.py:900: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1768849693656,"stop":1768849712417,"duration":18761},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (0 == 1)\n +  where 0 = len([])","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001E2FAAAE4D0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e11c2dcf92153259a8ae9a9360bc3a6a\")>\n\n    @allure.story(\"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_process_nextsuccess3(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试流程7\"\n        sel1 = \"添加事务模版1\"\n        sel2 = \"添加全部模版成功\"\n        affairs.click_process()\n        affairs.add_process(name=name, type=\"服务\", frequency=\"每天\")\n        affairs.click_next()\n        value1 = affairs.add_process_affairs(add=False, sel=sel1)\n        value2 = affairs.add_process_affairs(add=False, sel=sel2)\n        affairs.click_save()\n        message = affairs.get_find_message()\n        affairs.right_refresh()\n        affairs.click_process()\n        affairs.wait_for_el_loading_mask()\n        ele1 = affairs.finds_elements(By.XPATH, f'//table[@class=\"el-table__body\"]//tr[td[3][div[text()=\"{name}\"]]]')\n        # 一次性获取所有匹配的元素\n        elements = affairs.finds_elements(\n            By.XPATH,\n            f'//table[@class=\"el-table__body\"]//tr[td[3][div[text()=\"{name}\"]]]/td[2]//div[@class=\"flow-direction\"]/div'\n        )\n    \n        # 直接提取所有元素的文本到列表\n        list_ = [element.text for element in elements]\n        assert message == \"新增成功！\"\n>       assert len(ele1) == 1 and len(list_) == 2 and value1[1] == sel1 and value2[1] == sel2\nE       assert (0 == 1)\nE        +  where 0 = len([])\n\nTests\\test_system\\test_affairs.py:900: AssertionError","steps":[],"attachments":[{"uid":"19ed42aabfe42565","name":"test_affairs_process_nextsuccess3_20260120_030858","source":"19ed42aabfe42565.png","type":"image/png","size":116691},{"uid":"d8820d4a87738876","name":"test_affairs_process_nextsuccess3_20260120_030859","source":"d8820d4a87738876.png","type":"image/png","size":116691},{"uid":"ae168503fdcad24e","name":"test_affairs_process_nextsuccess3_20260120_030859","source":"ae168503fdcad24e.png","type":"image/png","size":120250},{"uid":"5465113a0bfcb8e0","name":"log","source":"5465113a0bfcb8e0.txt","type":"text/plain","size":5591}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":4,"attachmentStep":false,"stepsCount":0,"hasContent":true},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1768849739220,"stop":1768849741342,"duration":2122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"story","value":"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功"},{"name":"feature","value":"事务管理页用例"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"1124-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"86cdaaefcf24440f.json","parameterValues":[]}