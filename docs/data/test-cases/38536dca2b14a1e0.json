{"uid":"38536dca2b14a1e0","name":"test_affairs_template_addall","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_template_addall","historyId":"ee991b0c343e2c9f28aff267bf6ee92c","time":{"start":1764891372502,"stop":1764891405699,"duration":33197},"status":"broken","statusMessage":"IndexError: list index out of range","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001676AC7F5B0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"9fb9c3242cd59feb8556fbeca83eefd4\")>\n\n    @allure.story(\"事务模版-添加全部成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_addall(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        adds = AddsPages(driver)\n    \n        name = \"添加全部模版成功\"\n        type = \"接口\"\n        xpth_list = [\n            '//div[label[text()=\"事务名称\"]]//input',\n            '//div[label[text()=\"事务类型\"]]//input',\n            '//div[label[text()=\"事务描述\"]]//input',\n            '//div[label[text()=\"配置参数\"]]//input',\n            '//div[label[text()=\"推送参数设置\"]]//input',\n        ]\n        affairs.click_add_affairs(name=name, type=type, button=False)\n        select_list = [\n            {\"select\": '(//div[@class=\"flex-1\"])[2]//input',\n             \"value\": '(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]'},\n            {\"select\": '(//div[@class=\"flex-1\"])[3]//input',\n             \"value\": '(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]'},\n        ]\n        adds.batch_modify_select_input(select_list)\n    \n        affairs.click_button('(//table[@class=\"vxe-table--body\"])[2]//tr[1]//span')\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        affairs.enter_texts('//div[label[text()=\"事务描述\"]]//input', name)\n        swich = affairs.get_find_element_xpath('//div[label[text()=\"推送\"]]/div/div/span').get_attribute(\"class\")\n        sleep(1)\n        if \"ivu-switch-checked\" not in swich:\n            affairs.click_button('//div[label[text()=\"推送\"]]/div/div/span')\n    \n        checked = affairs.get_find_element_xpath('//label[span[text()=\"站内\"]]/span[1]').get_attribute(\"class\")\n        if checked == 'el-checkbox__input':\n            affairs.click_button('//label[span[text()=\"站内\"]]/span[1]')\n    \n        affairs.click_button('//div[label[text()=\"推送参数设置\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[text()=\" 用户 \"]')\n        affairs.click_button('//div[span[text()=\"用户:\"]]//i')\n        affairs.click_button('(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]')\n        affairs.click_button('(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[3]//span[text()=\"确定\"]')\n        sleep(1)\n        before_list = affairs.batch_acquisition_input(xpth_list)\n        before_swich = affairs.get_find_element_xpath('//div[label[text()=\"推送\"]]/div/div/span').get_attribute(\"class\")\n        before_checked = affairs.get_find_element_xpath('//label[span[text()=\"站内\"]]/span[1]').get_attribute(\"class\")\n        affairs.click_confirm_button()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n>       value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\nE       IndexError: list index out of range\n\nTests\\test_system\\test_affairs.py:382: IndexError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1764891357187,"stop":1764891372501,"duration":15314},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"IndexError: list index out of range","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001676AC7F5B0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"9fb9c3242cd59feb8556fbeca83eefd4\")>\n\n    @allure.story(\"事务模版-添加全部成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_addall(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        adds = AddsPages(driver)\n    \n        name = \"添加全部模版成功\"\n        type = \"接口\"\n        xpth_list = [\n            '//div[label[text()=\"事务名称\"]]//input',\n            '//div[label[text()=\"事务类型\"]]//input',\n            '//div[label[text()=\"事务描述\"]]//input',\n            '//div[label[text()=\"配置参数\"]]//input',\n            '//div[label[text()=\"推送参数设置\"]]//input',\n        ]\n        affairs.click_add_affairs(name=name, type=type, button=False)\n        select_list = [\n            {\"select\": '(//div[@class=\"flex-1\"])[2]//input',\n             \"value\": '(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]'},\n            {\"select\": '(//div[@class=\"flex-1\"])[3]//input',\n             \"value\": '(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]'},\n        ]\n        adds.batch_modify_select_input(select_list)\n    \n        affairs.click_button('(//table[@class=\"vxe-table--body\"])[2]//tr[1]//span')\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        affairs.enter_texts('//div[label[text()=\"事务描述\"]]//input', name)\n        swich = affairs.get_find_element_xpath('//div[label[text()=\"推送\"]]/div/div/span').get_attribute(\"class\")\n        sleep(1)\n        if \"ivu-switch-checked\" not in swich:\n            affairs.click_button('//div[label[text()=\"推送\"]]/div/div/span')\n    \n        checked = affairs.get_find_element_xpath('//label[span[text()=\"站内\"]]/span[1]').get_attribute(\"class\")\n        if checked == 'el-checkbox__input':\n            affairs.click_button('//label[span[text()=\"站内\"]]/span[1]')\n    \n        affairs.click_button('//div[label[text()=\"推送参数设置\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[text()=\" 用户 \"]')\n        affairs.click_button('//div[span[text()=\"用户:\"]]//i')\n        affairs.click_button('(//ul[@class=\"el-scrollbar__view el-select-dropdown__list\"])[last()]/li[1]')\n        affairs.click_button('(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[3]//span[text()=\"确定\"]')\n        sleep(1)\n        before_list = affairs.batch_acquisition_input(xpth_list)\n        before_swich = affairs.get_find_element_xpath('//div[label[text()=\"推送\"]]/div/div/span').get_attribute(\"class\")\n        before_checked = affairs.get_find_element_xpath('//label[span[text()=\"站内\"]]/span[1]').get_attribute(\"class\")\n        affairs.click_confirm_button()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n>       value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\nE       IndexError: list index out of range\n\nTests\\test_system\\test_affairs.py:382: IndexError","steps":[],"attachments":[{"uid":"e0c6e971c0dc4551","name":"test_affairs_template_addall_failure","source":"e0c6e971c0dc4551.png","type":"image/png","size":100753},{"uid":"6e40904e15e8a3d4","name":"test_affairs_template_addall_source","source":"6e40904e15e8a3d4.html","type":"text/html","size":1122706},{"uid":"15ff7437045199cf","name":"log","source":"15ff7437045199cf.txt","type":"text/plain","size":14433}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1764891406029,"stop":1764891408186,"duration":2157},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"事务管理页用例"},{"name":"story","value":"事务模版-添加全部成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"10972-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ba5a0ef60527b68","status":"broken","statusDetails":"IndexError: list index out of range","time":{"start":1764891321389,"stop":1764891354733,"duration":33344}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":[]},"source":"38536dca2b14a1e0.json","parameterValues":[]}