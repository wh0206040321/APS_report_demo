{"uid":"ce2619fa39bc63dc","name":"test_sched_ResourceIntervalControl_close","fullName":"Tests.test_items.test_sched.TestSchedPage#test_sched_ResourceIntervalControl_close","historyId":"9753b5c1d2198fb8fdaf98ab1b4e3791","time":{"start":1769698700820,"stop":1769698712632,"duration":11812},"status":"failed","statusMessage":"AssertionError: assert ('ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-default\u001B[90m\u001B[39;49;00m and 'ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-checked ivu-switch-default\u001B[90m\u001B[39;49;00m and '工作前' == ''\n  \n  \u001B[0m\u001B[92m+ 工作前\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_items.test_sched.TestSchedPage object at 0x0000019956890070>, login_to_sched = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"8c013b1fb4c3cdc568cc56b37df9509b\")>\n\n    @allure.story(\"属性设置-启用资源区间控制-关闭，制造时间调整控制-开启，启用事件控制为工作前\")\n    # @pytest.mark.run(order=1)\n    def test_sched_ResourceIntervalControl_close(self, login_to_sched):\n        driver = login_to_sched  # WebDriver 实例\n        sched = SchedPage(driver)  # 用 driver 初始化 SchedPage\n        name = \"排产方案(订单级)复制\"\n        # 选择排产方案(订单级)复制方案\n        sched.click_button(f'//ul[@visible=\"visible\"]//ul//span[text()=\"{name}\"]')\n        sched.click_attribute_button()\n        # 点击开关\n        ele1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        )\n        ele2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        )\n        if ele1.get_attribute(\"class\") != \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n            )\n        if ele2.get_attribute(\"class\") == \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n            )\n        sched.click_button('//div[text()=\"启用事件控制\"]/following-sibling::div')\n        sched.click_button(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//ul[2]/li[2]'\n        )\n        sleep(1)\n        # 获取输入框数据\n        before_class1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        before_class2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        before_input = sched.get_find_element_xpath(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//input/following-sibling::div/input'\n        ).get_attribute(\"value\")\n        sched.get_after_value(name)\n        after_class1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        after_class2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        after_input = sched.get_find_element_xpath(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//input/following-sibling::div/input'\n        ).get_attribute(\"value\")\n        sched.right_refresh('计划方案管理')\n>       assert before_class1 == after_class1 and before_class2 == after_class2 and before_input == after_input\nE       AssertionError: assert ('ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-default\u001B[90m\u001B[39;49;00m and 'ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-checked ivu-switch-default\u001B[90m\u001B[39;49;00m and '工作前' == ''\nE         \nE         \u001B[0m\u001B[92m+ 工作前\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_items\\test_sched.py:1328: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_sched","time":{"start":1769698153334,"stop":1769698173259,"duration":19925},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"attachmentStep":false,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert ('ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-default\u001B[90m\u001B[39;49;00m and 'ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-checked ivu-switch-default\u001B[90m\u001B[39;49;00m and '工作前' == ''\n  \n  \u001B[0m\u001B[92m+ 工作前\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_items.test_sched.TestSchedPage object at 0x0000019956890070>, login_to_sched = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"8c013b1fb4c3cdc568cc56b37df9509b\")>\n\n    @allure.story(\"属性设置-启用资源区间控制-关闭，制造时间调整控制-开启，启用事件控制为工作前\")\n    # @pytest.mark.run(order=1)\n    def test_sched_ResourceIntervalControl_close(self, login_to_sched):\n        driver = login_to_sched  # WebDriver 实例\n        sched = SchedPage(driver)  # 用 driver 初始化 SchedPage\n        name = \"排产方案(订单级)复制\"\n        # 选择排产方案(订单级)复制方案\n        sched.click_button(f'//ul[@visible=\"visible\"]//ul//span[text()=\"{name}\"]')\n        sched.click_attribute_button()\n        # 点击开关\n        ele1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        )\n        ele2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        )\n        if ele1.get_attribute(\"class\") != \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n            )\n        if ele2.get_attribute(\"class\") == \"ivu-switch ivu-switch-default\":\n            sched.click_button(\n                '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n            )\n        sched.click_button('//div[text()=\"启用事件控制\"]/following-sibling::div')\n        sched.click_button(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//ul[2]/li[2]'\n        )\n        sleep(1)\n        # 获取输入框数据\n        before_class1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        before_class2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        before_input = sched.get_find_element_xpath(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//input/following-sibling::div/input'\n        ).get_attribute(\"value\")\n        sched.get_after_value(name)\n        after_class1 = sched.get_find_element_xpath(\n            '//div[text()=\"启用资源区间控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        after_class2 = sched.get_find_element_xpath(\n            '//div[text()=\"制造时间调整控制\"]/following-sibling::div//span[1]'\n        ).get_attribute(\"class\")\n        after_input = sched.get_find_element_xpath(\n            '//div[text()=\"启用事件控制\"]/following-sibling::div//input/following-sibling::div/input'\n        ).get_attribute(\"value\")\n        sched.right_refresh('计划方案管理')\n>       assert before_class1 == after_class1 and before_class2 == after_class2 and before_input == after_input\nE       AssertionError: assert ('ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-default\u001B[90m\u001B[39;49;00m and 'ivu-switch i...witch-default' == 'ivu-switch i...witch-default'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m ivu-switch ivu-switch-checked ivu-switch-default\u001B[90m\u001B[39;49;00m and '工作前' == ''\nE         \nE         \u001B[0m\u001B[92m+ 工作前\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_items\\test_sched.py:1328: AssertionError","steps":[],"attachments":[{"uid":"b44139c0a7c8ad51","name":"test_sched_ResourceIntervalControl_close_20260129_225832","source":"b44139c0a7c8ad51.png","type":"image/png","size":83074},{"uid":"5d1a93a16f8d23b7","name":"log","source":"5d1a93a16f8d23b7.txt","type":"text/plain","size":3283}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":0,"attachmentStep":false,"hasContent":true},"afterStages":[{"name":"login_to_sched::0","time":{"start":1769698851536,"stop":1769698853681,"duration":2145},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"attachmentStep":false,"hasContent":false}],"labels":[{"name":"story","value":"属性设置-启用资源区间控制-关闭，制造时间调整控制-开启，启用事件控制为工作前"},{"name":"feature","value":"方案管理表测试用例"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_sched"},{"name":"subSuite","value":"TestSchedPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"20316-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_sched"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"ce2619fa39bc63dc.json","parameterValues":[]}