{"uid":"f7a9cd1cd7cc290b","name":"test_affairs_template_updattypesuccess","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_template_updattypesuccess","historyId":"df7c4ddeb24317083043fa88c2816ded","time":{"start":1767641503245,"stop":1767641515675,"duration":12430},"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"476efed86e9695ac3ffd1be07e9014a3\", element=\"f.B2BF3FC253E5A10BCED9A68038D15EC0.d.DF174E4FF96B02DDD75581245298AC68.e.66\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001FF2B5C1690>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"476efed86e9695ac3ffd1be07e9014a3\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"el-message-box__btns\"]//span[contains(text(),\"确定\")]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//ul[@class=\"ivu-select-dropdown-list\"]/li[1]')\n        text_ = affairs.get_find_element_xpath('//div[p[text()=\"存储过程列表:\"]]//input').get_attribute(\"value\")\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        sleep(3)\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and text_ in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"476efed86e9695ac3ffd1be07e9014a3\", element=\"f.B2BF3FC253E5A10BCED9A68038D15EC0.d.DF174E4FF96B02DDD75581245298AC68.e.66\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:496: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1767641487945,"stop":1767641503245,"duration":15300},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"476efed86e9695ac3ffd1be07e9014a3\", element=\"f.B2BF3FC253E5A10BCED9A68038D15EC0.d.DF174E4FF96B02DDD75581245298AC68.e.66\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001FF2B5C1690>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"476efed86e9695ac3ffd1be07e9014a3\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"el-message-box__btns\"]//span[contains(text(),\"确定\")]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//ul[@class=\"ivu-select-dropdown-list\"]/li[1]')\n        text_ = affairs.get_find_element_xpath('//div[p[text()=\"存储过程列表:\"]]//input').get_attribute(\"value\")\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        sleep(3)\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and text_ in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"476efed86e9695ac3ffd1be07e9014a3\", element=\"f.B2BF3FC253E5A10BCED9A68038D15EC0.d.DF174E4FF96B02DDD75581245298AC68.e.66\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:496: AssertionError","steps":[],"attachments":[{"uid":"629d69abb7775c67","name":"test_affairs_template_updattypesuccess_20260106_033155","source":"629d69abb7775c67.png","type":"image/png","size":77327},{"uid":"c82195bcb60f827a","name":"log","source":"c82195bcb60f827a.txt","type":"text/plain","size":3076}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1767641515870,"stop":1767641517989,"duration":2119},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"事务模版-切换事务类型，修改配置参数成功"},{"name":"feature","value":"事务管理页用例"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"35836-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"f7a9cd1cd7cc290b.json","parameterValues":[]}