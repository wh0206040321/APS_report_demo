{"uid":"1e6897928d97759","name":"test_user_addall","fullName":"Tests.test_system.test_userRole.TestUserRolePage#test_user_addall","historyId":"0a44a063ecb0a7278e4cf9f9399810d3","time":{"start":1770064116824,"stop":1770064156088,"duration":39264},"status":"failed","statusMessage":"AssertionError: assert (['11testVG', ...VG', '1', ...] == ['11testVG', ...VG', '1', ...]\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (9 lines hidden), use '-vv' to show and ['ivu-checkbo... is--checked'] == ['ivu-checkbo... is--checked']\n  \n  At index 0 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-wrapper-disabled ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked '\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (6 lines hidden), use '-vv' to show)","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x000001F87EFEA230>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"79ca6e1756b0a21958a5183366dba6ec\")>\n\n    @allure.story(\"添加全部数据成功，表格数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_addall(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        adds = AddsPages(driver)\n    \n        user.click_button('(//span[text()=\"用户权限管理\"])[1]')\n        user.wait_for_loading_to_disappear()\n        user.click_all_button('新增')\n        input_value = '11testVG'\n    \n        text_list = [\n            '//div[label[text()=\"用户代码\"]]//input',\n            '//div[label[text()=\"用户名称\"]]//input',\n            '//div[label[text()=\"用户组\"]]//input',\n            '//div[label[text()=\"SSOCode\"]]//input',\n            '//div[label[text()=\"备注\"]]//input',\n        ]\n        adds.batch_modify_input(text_list, input_value)\n        pa_list = [\n            '//div[label[text()=\"密码\"]]//input',\n            '//div[label[text()=\"确认密码\"]]//input',\n        ]\n        adds.batch_modify_input(pa_list, '1234Qwer')\n    \n        emil_list = [\n            '//div[label[text()=\"邮箱地址\"]]//input'\n        ]\n        adds.batch_modify_input(emil_list, '1121@qq.com')\n    \n        select_list = [\n            {\"select\": '//div[label[text()=\"用户类型\"]]//i', \"value\": '//li[text()=\"计划用户\"]'},\n            {\"select\": '//div[label[text()=\"账户类型\"]]//i', \"value\": '//li[text()=\"域账户\"]'},\n            {\"select\": '//div[label[text()=\"指定登录方式\"]]//i', \"value\": '//li[text()=\"账号密码\"]'},]\n        adds.batch_modify_select_input(select_list)\n    \n        checkbox_list = [\n            '//div[label[text()=\"允许多地同时登录\"]]/div/label',\n            '//div[label[text()=\"是否锁定\"]]/div/label',\n            '//div[label[text()=\"是否禁用\"]]/div/label',\n            '(//table[@class=\"vxe-table--body\"]//tr[1]/td[2]/div/span)[2]',\n        ]\n        adds.batch_click_input(checkbox_list)\n    \n        input_num_value = '13712367899'\n    \n        num_list = [\n            '//div[label[text()=\"密码有效天数\"]]//input',\n            '//div[label[text()=\"电话\"]]//input',\n        ]\n        adds.batch_modify_input(num_list, input_num_value)\n    \n        time_xpath_list = [\n            '//div[label[text()=\"用户有效日期\"]]//input',\n        ]\n        adds.click_button(time_xpath_list[0])\n        adds.click_button(\n            '//div[@class=\"ivu-date-picker-cells\"]/span[@class=\"ivu-date-picker-cells-cell ivu-date-picker-cells-cell-today ivu-date-picker-cells-focused\"]/following-sibling::span')\n    \n    \n    \n        select_input_list = [item[\"select\"].replace(\"//i\", \"//input\") for item in select_list]\n        all_value = text_list + select_input_list + num_list + time_xpath_list + emil_list\n        len_num = len(all_value)\n        sleep(2)\n        before_all_value = adds.batch_acquisition_input(all_value)\n        before_checkbox_list = adds.get_checkbox_value(checkbox_list)\n    \n        user.click_all_button('保存')\n        user.get_find_message()\n        user.right_refresh('用户权限管理')\n        user.select_input(input_value)\n        user.click_button(f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n        user.click_all_button('编辑')\n    \n        after_all_value = adds.batch_acquisition_input(all_value)\n        after_checkbox_list = adds.get_checkbox_value(checkbox_list)\n        user.click_all_button('取消')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = user.finds_elements(By.XPATH, f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n        if len(ele) == 1:\n            user.click_button(f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n            user.click_all_button('删除')  # 点击删除\n            user.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            user.get_find_message()\n            user.right_refresh('用户权限管理')\n>       assert before_all_value == after_all_value and before_checkbox_list == after_checkbox_list\nE       AssertionError: assert (['11testVG', ...VG', '1', ...] == ['11testVG', ...VG', '1', ...]\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (9 lines hidden), use '-vv' to show and ['ivu-checkbo... is--checked'] == ['ivu-checkbo... is--checked']\nE         \nE         At index 0 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-wrapper-disabled ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[91m-     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked '\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (6 lines hidden), use '-vv' to show)\n\nTests\\test_system\\test_userRole.py:1126: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_userrole","time":{"start":1770063459193,"stop":1770063472846,"duration":13653},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (['11testVG', ...VG', '1', ...] == ['11testVG', ...VG', '1', ...]\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (9 lines hidden), use '-vv' to show and ['ivu-checkbo... is--checked'] == ['ivu-checkbo... is--checked']\n  \n  At index 0 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-wrapper-disabled ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked '\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (6 lines hidden), use '-vv' to show)","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x000001F87EFEA230>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"79ca6e1756b0a21958a5183366dba6ec\")>\n\n    @allure.story(\"添加全部数据成功，表格数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_addall(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        adds = AddsPages(driver)\n    \n        user.click_button('(//span[text()=\"用户权限管理\"])[1]')\n        user.wait_for_loading_to_disappear()\n        user.click_all_button('新增')\n        input_value = '11testVG'\n    \n        text_list = [\n            '//div[label[text()=\"用户代码\"]]//input',\n            '//div[label[text()=\"用户名称\"]]//input',\n            '//div[label[text()=\"用户组\"]]//input',\n            '//div[label[text()=\"SSOCode\"]]//input',\n            '//div[label[text()=\"备注\"]]//input',\n        ]\n        adds.batch_modify_input(text_list, input_value)\n        pa_list = [\n            '//div[label[text()=\"密码\"]]//input',\n            '//div[label[text()=\"确认密码\"]]//input',\n        ]\n        adds.batch_modify_input(pa_list, '1234Qwer')\n    \n        emil_list = [\n            '//div[label[text()=\"邮箱地址\"]]//input'\n        ]\n        adds.batch_modify_input(emil_list, '1121@qq.com')\n    \n        select_list = [\n            {\"select\": '//div[label[text()=\"用户类型\"]]//i', \"value\": '//li[text()=\"计划用户\"]'},\n            {\"select\": '//div[label[text()=\"账户类型\"]]//i', \"value\": '//li[text()=\"域账户\"]'},\n            {\"select\": '//div[label[text()=\"指定登录方式\"]]//i', \"value\": '//li[text()=\"账号密码\"]'},]\n        adds.batch_modify_select_input(select_list)\n    \n        checkbox_list = [\n            '//div[label[text()=\"允许多地同时登录\"]]/div/label',\n            '//div[label[text()=\"是否锁定\"]]/div/label',\n            '//div[label[text()=\"是否禁用\"]]/div/label',\n            '(//table[@class=\"vxe-table--body\"]//tr[1]/td[2]/div/span)[2]',\n        ]\n        adds.batch_click_input(checkbox_list)\n    \n        input_num_value = '13712367899'\n    \n        num_list = [\n            '//div[label[text()=\"密码有效天数\"]]//input',\n            '//div[label[text()=\"电话\"]]//input',\n        ]\n        adds.batch_modify_input(num_list, input_num_value)\n    \n        time_xpath_list = [\n            '//div[label[text()=\"用户有效日期\"]]//input',\n        ]\n        adds.click_button(time_xpath_list[0])\n        adds.click_button(\n            '//div[@class=\"ivu-date-picker-cells\"]/span[@class=\"ivu-date-picker-cells-cell ivu-date-picker-cells-cell-today ivu-date-picker-cells-focused\"]/following-sibling::span')\n    \n    \n    \n        select_input_list = [item[\"select\"].replace(\"//i\", \"//input\") for item in select_list]\n        all_value = text_list + select_input_list + num_list + time_xpath_list + emil_list\n        len_num = len(all_value)\n        sleep(2)\n        before_all_value = adds.batch_acquisition_input(all_value)\n        before_checkbox_list = adds.get_checkbox_value(checkbox_list)\n    \n        user.click_all_button('保存')\n        user.get_find_message()\n        user.right_refresh('用户权限管理')\n        user.select_input(input_value)\n        user.click_button(f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n        user.click_all_button('编辑')\n    \n        after_all_value = adds.batch_acquisition_input(all_value)\n        after_checkbox_list = adds.get_checkbox_value(checkbox_list)\n        user.click_all_button('取消')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = user.finds_elements(By.XPATH, f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n        if len(ele) == 1:\n            user.click_button(f'(//table[@class=\"vxe-table--body\"]//tr/td[2]/div/span[text()=\"{input_value}\"])')\n            user.click_all_button('删除')  # 点击删除\n            user.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            user.get_find_message()\n            user.right_refresh('用户权限管理')\n>       assert before_all_value == after_all_value and before_checkbox_list == after_checkbox_list\nE       AssertionError: assert (['11testVG', ...VG', '1', ...] == ['11testVG', ...VG', '1', ...]\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (9 lines hidden), use '-vv' to show and ['ivu-checkbo... is--checked'] == ['ivu-checkbo... is--checked']\nE         \nE         At index 0 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-wrapper-disabled ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[91m-     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked '\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (6 lines hidden), use '-vv' to show)\n\nTests\\test_system\\test_userRole.py:1126: AssertionError","steps":[],"attachments":[{"uid":"9a546facd4d6df24","name":"test_user_addall_20260203_042916","source":"9a546facd4d6df24.png","type":"image/png","size":155892},{"uid":"cef8b3ae83f2aeb8","name":"test_user_addall_20260203_042916","source":"cef8b3ae83f2aeb8.png","type":"image/png","size":155892},{"uid":"cf02d85067f6f5e3","name":"test_user_addall_20260203_042916","source":"cf02d85067f6f5e3.png","type":"image/png","size":77111},{"uid":"4a9ea4fc8a39d711","name":"test_user_addall_20260203_042916","source":"4a9ea4fc8a39d711.png","type":"image/png","size":199133},{"uid":"ac630a3fe89086c2","name":"log","source":"ac630a3fe89086c2.txt","type":"text/plain","size":17671}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":5},"afterStages":[{"name":"login_to_userrole::0","time":{"start":1770064247076,"stop":1770064249306,"duration":2230},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"添加全部数据成功，表格数据成功"},{"name":"feature","value":"用户权限管理页用例"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_userRole"},{"name":"subSuite","value":"TestUserRolePage"},{"name":"host","value":"DESKTOP-L7L44NB"},{"name":"thread","value":"32544-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_userRole"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dbb4e4c46ea429b9","status":"failed","statusDetails":"AssertionError: assert (['11testVG', ...VG', '1', ...] == ['11testVG', ...VG', '1', ...]\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11testVG',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (9 lines hidden), use '-vv' to show and ['ivu-checkbo... is--checked'] == ['ivu-checkbo...ll--checkbox']\n  \n  At index 0 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mivu-checkbox-wrapper ivu-checkbox-wrapper-checked ivu-checkbox-wrapper-disabled ivu-checkbox-default\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'ivu-checkbox-wrapper ivu-checkbox-wrapper-checked '\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'ivu-checkbox-wrapper-disabled ivu-checkbox-default',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (13 lines hidden), use '-vv' to show)","time":{"start":1770064081131,"stop":1770064116291,"duration":35160}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"1e6897928d97759.json","parameterValues":[]}